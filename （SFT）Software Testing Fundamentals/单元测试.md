## 单元测试基础

### 定义

**单元测试**是软件测试的一个级别，其中软件的单个单元/组件被测试。 目的是验证软件的每个单元是否按照设计执行。

![测试级别](https://mmbiz.qlogo.cn/mmbiz_jpg/4iaE7bB4HCjcUdtgiaNZ9yFpnHY3UBp7VfMYKd6o5FiaCT2WicOSAoRQN2q8QV2utYOh2Zw6Mc6zCqA8XLp1tAcIKg/0?wx_fmt=jpeg)

一个单元是软件中最小的可测试部分。 它通常有一个或几个输入，通常是单个输出。 在程序编程中，单元可以是单独的程序，功能，程序等。在面向对象编程中，最小单元是一种可以属于基类/超类，抽象类或派生/子类的方法。 （有些将应用程序的模块视为一个单元，这是不鼓励的，因为该模块中可能会有许多单独的单元。）

单元测试框架，驱动程序，存根和模拟/假对象用于协助进行单元测试。

ISTQB定义

* **单元测试：** 测试看到的组件
* **组件测试：** 对单个软件组件的测试

### 方法

单元测试采用[白盒测试](http://www.baidu.com)方法进行。

### 什么时候进行

单元测试通常由软件开发人员自己或他们的同行执行。在极少数情况下，它也可能由独立软件测试人员执行。

### 工作任务

* 单元测试计划
	- 准备
	- 讨论
	- 修订
	- 基准
* 单元测试案例/脚本
	- 准备
	- 讨论
	- 修订
	- 基准
* 单元测试
	- 执行
	
### 优点

* 单元测试增加了对更改/维护代码的信心。如果编写了良好的单元测试，并且在每次修改代码时都运行，我们将及时发现由于变更而引起的任何缺陷。此外，如果代码已不再相互依赖，以使单元测试成为可能，对任何代码的更改会产生意想不到的影响。

* 代码可重用。 为了使单元测试成为可能，代码需要模块化。 这意味着代码更容易重用。

* 发展得更快。为何?如果没有单元测试，就编写代码并执行模糊的“开发测试”(设置一些断点，启动GUI，提供一些输入，希望能够按下您的代码，并希望您已经设置好了)。如果您有单元测试，则编写测试、编写代码并运行测试。编写测试需要时间，但是时间得到了运行测试所需的时间的补偿;您不需要启动GUI并提供所有这些输入。当然，单元测试比“开发人员测试”更可靠。发展的更快

* 与在较高级别检测到的缺陷相比，固定在单元测试期间检测到的缺陷的成本较低。 比较在验收测试期间或软件生存时检测到的缺陷的成本（时间，努力，破坏，羞辱）。

* 调试很简单。测试失败时，只需要调试最新的更改。 在更高层次的测试中，需要扫描数天/周/月的范围内的变化。

* 代码更可靠。为什么?我认为没有必要向一个理智的人解释这个。

### 建议

* 为你的语言找一个框架/工具
* 不要为所有事情创建测试用例。相反，关注影响系统行为的测试。
* 从测试环境隔离开发环境。
* 使用接近于生产的测试数据。
* 在修复缺陷之前，请先写出一个暴露缺陷的测试。 为什么？ 首先，如果您不能正确解决问题，您将能够捕获缺陷。 其次，您的测试套件现在更全面。 第三，在修复缺陷之后，你最有可能太懒了，写出测试。
* 目标是覆盖整个单位的所有路径。特别注意循环条件。
* 确保您正在使用版本控制系统来跟踪您的测试脚本。
* 除了编写案例来验证行为外，还要编写案例以确保代码的性能。
* 持续频繁地执行单元测试。

### 还有一个原因

假设您有一个由两个单元组成的程序，并且您执行的唯一测试是系统测试。您跳过单元测试和集成测试。在测试过程中，你会发现一个错误。现在，你如何确定问题的原因?

* 错误是由于单元1中的错误引起的？
* 错误是由于单元2中的错误引起的？
* 错误是由于两个单元中的错误造成的吗?
* 这个bug是由于单元之间接口中的错误造成的吗?
* 是由于测试或测试用例中的错误引起的错误？

单元测试常常被忽略，但实际上，它是最重要的测试级别。

[首页](index.md)  |  [软件测试经理样本职位描述](软件测试经理样本职位描述.md)  |  [集成测试](集成测试.md) 
