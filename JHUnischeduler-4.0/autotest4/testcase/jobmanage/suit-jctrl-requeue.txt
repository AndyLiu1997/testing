*** Settings ***
Suite Setup       preSuite    spooler/conf/conf-jctrl-requeue
Suite Teardown    postSuite
Library           /apps/autotest4/lib/clusterKeyword.py
Library           /apps/autotest4/lib/clusterLib.py
Library           /apps/autotest4/lib/common.py
Library           /apps/autotest4/lib/hostKeyword.py
Library           /apps/autotest4/lib/hostLib.py
Library           /apps/autotest4/lib/hostsConfLib.py
Library           /apps/autotest4/lib/jobKeyword.py
Library           /apps/autotest4/lib/jobLib.py
Library           /apps/autotest4/lib/myUtils.py
Library           /apps/autotest4/lib/OperatingSystem.py
Library           /apps/autotest4/lib/queueKeyword.py
Library           /apps/autotest4/lib/queueLib.py
Library           /apps/autotest4/lib/paramsConfLib.py
Library           /apps/autotest4/lib/queuesConfLib.py
Library           /apps/autotest4/lib/retry.py
Library           /apps/autotest4/lib/schedulerConfLib.py
Library           /apps/autotest4/lib/userGroupKeyword.py
Library           /apps/autotest4/lib/userGroupLib.py
Library           /apps/autotest4/lib/userKeyword.py
Library           /apps/autotest4/lib/usersConfLib.py
Library           /apps/autotest4/lib/userLib.py

*** Test Cases ***
case1.bug11169 bug11427每个用户可以jctrl requeue自己的作业，集群管理员可以通过指定user/-u all来requeue其它用户的作业。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    addOrModifyHost    rhela1    3 ()
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    ${job5}    querySubmitInfo    su user3 -c "jsub sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user3 -c "jsub sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user4 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user4 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PEND
    checkJobStatus    ${jobid8}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue ${jobid1}"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    sleep    2
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    ${info2}    runCommand    su user1 -c "jctrl requeue ${jobid3}"
    log    ${info2}
    Should Be Equal    ${info2}    Job <${jobid3}> : User permission denied
    checkJobStatus    ${jobid3}    RUN
    ${hist2}    runCommand    su user1 -c "jhist -l ${jobid3}"
    log    ${hist2}
    should Not Contain    ${hist2}    Pending: Requeue the job for the next run;
    ${info3}    runCommand    su user1 -c "jctrl requeue ${jobid5}"
    log    ${info3}
    sleep    5
    Should Be Equal    ${info3}    Job <${jobid5}> : User permission denied
    checkJobStatus    ${jobid5}    RUN
    ${hist3}    runCommand    su user1 -c "jhist -l ${jobid5}"
    log    ${hist3}
    should Not Contain    ${hist3}    Pending: Requeue the job for the next run;
    ${info4}    runCommand    su user1 -c "jctrl requeue -u user2"
    log    ${info4}
    Should Contain    ${info4}    jctrl requeue: error: too few arguments
    Should Contain    ${info4}    usage: jctrl requeue
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${hist4}    runCommand    su user1 -c "jhist -l ${jobid3}"
    log    ${hist4}
    should Not Contain    ${hist4}    Pending: Requeue the job for the next run;
    ${hist5}    runCommand    su user1 -c "jhist -l ${jobid4}"
    log    ${hist5}
    should Not Contain    ${hist5}    Pending: Requeue the job for the next run;
    ${infox}    runCommand    su user1 -c "jctrl requeue -u user1 0"
    log    ${infox}
    Should Contain    ${infox}    Job <${jobid1}> is being requeued
    Should Contain    ${infox}    Job <${jobid2}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    ${info5}    runCommand    su jhadmin -c "jctrl requeue -u user2 0"
    log    ${info5}
    Should Contain    ${info5}    Job <${jobid3}> is being requeued
    Should Contain    ${info5}    Job <${jobid4}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    ${info4}    runCommand    su jhadmin -c "jctrl requeue -u all 0"
    log    ${info4}
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    [Teardown]    modHostInfo    rhela1=1 ()    rhelb=1 ()

case2.用户组管理员可以指定user/-u all来requeue用户组中用户的作业。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    ${infoxxx}    runCommand    jjobs -u all 0
    log    ${infoxxx}
    addOrModifyHost    rhelb    5 ()
    addOrModifyUserGroupA    group1    (user1 user2) (user2) ([default,1])
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    ${job5}    querySubmitInfo    su user3 -c "jsub sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user3 -c "jsub sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user4 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user4 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PEND
    checkJobStatus    ${jobid8}    PEND
    ${info1}    runCommand    su user2 -c "jctrl requeue -u user1 0"
    log    ${info1}
    ${date}    run    date
    log    ${date}
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    ${info2}    runCommand    su user2 -c "jctrl requeue ${jobid1}"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    2
    ${info3}    runCommand    su user2 -c "jctrl requeue ${jobid5}"
    log    ${info3}
    Should Be Equal    ${info3}    Job <${jobid5}> : User permission denied
    ${info3}    runCommand    su user1 -c "jhist -l ${jobid5}"
    log    ${info3}
    should Not Contain    ${info3}    Pending: Requeue the job for the next run;
    ${info4}    runCommand    su user2 -c "jctrl requeue -u all 0"
    log    ${info4}
    sleep    2
    Should Contain    ${info4}    Job <${jobid1}> is being requeued
    Should Contain    ${info4}    Job <${jobid2}> is being requeued
    Should Contain    ${info4}    Job <${jobid3}> is being requeued
    Should Contain    ${info4}    Job <${jobid4}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    ${hist8}    runCommand    su user1 -c "jhist -l ${jobid5}"
    log    ${hist8}
    should Not Contain    ${hist8}    Pending: Requeue the job for the next run;
    ${hist9}    runCommand    su user1 -c "jhist -l ${jobid6}"
    log    ${hist9}
    should Not Contain    ${hist9}    Pending: Requeue the job for the next run;
    ${hist10}    runCommand    su user1 -c "jhist -l ${jobid7}"
    log    ${hist10}
    should Not Contain    ${hist10}    Pending: Requeue the job for the next run;
    ${hist11}    runCommand    su user1 -c "jhist -l ${jobid8}"
    log    ${hist11}
    should Not Contain    ${hist11}    Pending: Requeue the job for the next run;
    [Teardown]    delUserGroupAndHost    group1    rhelb=1 ()

case3.队列管理员可以指定user/-u all来requeue队列中的作业。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    addOrModifyHost    rhelb    5 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -q qadmin sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q qadmin sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su jhadmin -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    ${job5}    querySubmitInfo    su jhadmin -c "jsub -q qadmin sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su jhadmin -c "jsub -q qadmin sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user4 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user4 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PEND
    checkJobStatus    ${jobid8}    PEND
    ${info1}    runCommand    su user3 -c "jctrl requeue -u jhadmin 0"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    sleep    2
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    ${info2}    runCommand    su user3 -c "jctrl requeue ${jobid2}"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    sleep    2
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    ${info3}    runCommand    su user3 -c "jctrl requeue ${jobid5}"
    log    ${info3}
    Should Contain    ${info3}    Job <${jobid5}> is being requeued
    sleep    2
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    2
    ${info4}    runCommand    su user3 -c "jctrl requeue ${jobid7}"
    log    ${info4}
    Should Contain    ${info4}    Job <${jobid7}> : User permission denied
    ${hist4}    runCommand    su user1 -c "jhist -l ${jobid7}"
    log    ${hist4}
    Should Not Contain    ${hist4}    Pending: Requeue the job for the next run;
    ${info5}    runCommand    su user3 -c "jctrl requeue -u all 0"
    log    ${info5}
    sleep    2
    Should Contain    ${info5}    Job <${jobid2}> is being requeued
    Should Contain    ${info5}    Job <${jobid3}> is being requeued
    Should Contain    ${info5}    Job <${jobid5}> is being requeued
    Should Contain    ${info5}    Job <${jobid6}> is being requeued
    ${hist6}    runCommand    su user1 -c "jhist -l ${jobid1}"
    log    ${hist6}
    Should Not Contain    ${hist6}    Pending: Requeue the job for the next run;
    ${hist7}    runCommand    su user1 -c "jhist -l ${jobid2}"
    log    ${hist7}
    should Contain X Times    ${hist7}    Pending: Requeue the job for the next run;    2
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    ${hist9}    runCommand    su user1 -c "jhist -l ${jobid4}"
    log    ${hist9}
    should Not Contain    ${hist9}    Pending: Requeue the job for the next run;
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    2
    ${hist12}    runCommand    su user1 -c "jhist -l ${jobid7}"
    log    ${hist12}
    should Not Contain    ${hist12}    Pending: Requeue the job for the next run;
    ${hist13}    runCommand    su user1 -c "jhist -l ${jobid8}"
    log    ${hist13}
    should Not Contain    ${hist13}    Pending: Requeue the job for the next run;
    [Teardown]    modHostInfo    rhelb=1 ()

case4.jctrl requeue所有状态的作业。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid00}    getJobId    ${job00}
    checkJobStatus    ${jobid00}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid00}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid2}    getJobId    ${job2}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    SSUSP
    checkJobStatus    ${jobid3}    RUN
    runCommand    su jhadmin -c "jctrl stop ${jobid1}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    SSUSP
    checkJobStatus    ${jobid3}    RUN
    ${job4}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    ${job5}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid5}    getJobId    ${job5}
    runCommand    su jhadmin -c "jctrl stop ${jobid4}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    SSUSP
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    PSUSP
    checkJobStatus    ${jobid5}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue 0"
    log    ${info2}
    sleep    5
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    EXIT
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    sleep    2
    ${hist6}    runCommand    su user1 -c "jhist -l ${jobid0}"
    log    ${hist6}
    Should Not Contain    ${hist6}    Pending: Requeue the job for the next run;
    ${hist7}    runCommand    su user1 -c "jhist -l ${jobid00}"
    log    ${hist7}
    should Not Contain    ${hist7}    Pending: Requeue the job for the next run;
    ${hist8}    runCommand    su user1 -c "jhist -l ${jobid1}"
    log    ${hist8}
    should Contain    ${hist8}    Pending: Requeue the job for the next run;
    ${hist9}    runCommand    su user1 -c "jhist -l ${jobid2}"
    log    ${hist9}
    should Contain    ${hist9}    Pending: Requeue the job for the next run;
    ${hist10}    runCommand    su user1 -c "jhist -l ${jobid3}"
    log    ${hist10}
    should Contain    ${hist10}    Pending: Requeue the job for the next run;
    ${hist11}    runCommand    su user1 -c "jhist -l ${jobid4}"
    log    ${hist11}
    should Contain    ${hist11}    Pending: Requeue the job for the next run;
    ${hist12}    runCommand    su user1 -c "jhist -l ${jobid5}"
    log    ${hist12}
    should Contain    ${hist12}    Pending: Requeue the job for the next run;
    [Teardown]    killJob

case5.jctrl requeue -r 0。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su jhadmin -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su jhadmin -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -r 0"
    log    ${info2}
    sleep    5
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid6}> is being requeued
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${hist1}    runCommand    su user1 -c "jhist -l ${jobid0}"
    log    ${hist1}
    Should Not Contain    ${hist1}    Pending: Requeue the job for the next run;
    ${hist2}    runCommand    su user1 -c "jhist -l ${jobid00}"
    log    ${hist2}
    Should Not Contain    ${hist2}    Pending: Requeue the job for the next run;
    ${hist3}    runCommand    su user1 -c "jhist -l ${jobid01}"
    log    ${hist3}
    Should Not Contain    ${hist3}    Pending: Requeue the job for the next run;
    ${hist4}    runCommand    su user1 -c "jhist -l ${jobid02}"
    log    ${hist4}
    Should Not Contain    ${hist4}    Pending: Requeue the job for the next run;
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    ${hist13}    runCommand    su user1 -c "jhist -l ${jobid7}"
    log    ${hist13}
    Should Not Contain    ${hist13}    Pending: Requeue the job for the next run;
    ${hist14}    runCommand    su user1 -c "jhist -l ${jobid8}"
    log    ${hist14}
    Should Not Contain    ${hist14}    Pending: Requeue the job for the next run;
    ${hist15}    runCommand    su user1 -c "jhist -l ${jobid9}"
    log    ${hist15}
    Should Not Contain    ${hist15}    Pending: Requeue the job for the next run;
    ${hist16}    runCommand    su user1 -c "jhist -l ${jobid10}"
    log    ${hist16}
    Should Not Contain    ${hist16}    Pending: Requeue the job for the next run;
    [Teardown]    modHostInfo    rhelb=1 ()

case6.jctrl requeue -a 0。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -a 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid6}> is being requeued
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case7.jctrl requeue -a -u all 0。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    7 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    ${job03}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid03}    getJobId    ${job03}
    ${job04}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid04}    getJobId    ${job04}
    ${job05}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid05}    getJobId    ${job05}
    ${job06}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid06}    getJobId    ${job06}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    checkJobStatus    ${jobid05}    RUN
    checkJobStatus    ${jobid06}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02} ${jobid05} ${jobid06}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid03}    DONE
    checkJobStatus    ${jobid04}    DONE
    checkJobStatus    ${jobid05}    EXIT
    checkJobStatus    ${jobid06}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    ${job11}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    checkJobStatus    ${jobid11}    RUN
    checkJobStatus    ${jobid12}    RUN
    checkJobStatus    ${jobid13}    RUN
    checkJobStatus    ${jobid14}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job15}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid15}    getJobId    ${job15}
    ${job16}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid16}    getJobId    ${job16}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid11}    RUN
    checkJobStatus    ${jobid12}    RUN
    checkJobStatus    ${jobid13}    SSUSP
    checkJobStatus    ${jobid14}    SSUSP
    checkJobStatus    ${jobid15}    RUN
    checkJobStatus    ${jobid16}    RUN
    runCommand    su jhadmin -c "jctrl stop ${jobid1} ${jobid2} ${jobid11} ${jobid12}"
    log    aaa
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid11}    USUSP
    checkJobStatus    ${jobid12}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job17}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid17}    getJobId    ${job17}
    ${job18}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid18}    getJobId    ${job18}
    ${job19}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid19}    getJobId    ${job19}
    ${job20}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid20}    getJobId    ${job20}
    runCommand    su jhadmin -c "jctrl stop ${jobid7} ${jobid8} ${jobid17} ${jobid18}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid03}    DONE
    checkJobStatus    ${jobid04}    DONE
    checkJobStatus    ${jobid05}    EXIT
    checkJobStatus    ${jobid06}    EXIT
    checkJobStatus    ${jobid11}    USUSP
    checkJobStatus    ${jobid12}    USUSP
    checkJobStatus    ${jobid13}    SSUSP
    checkJobStatus    ${jobid14}    SSUSP
    checkJobStatus    ${jobid15}    RUN
    checkJobStatus    ${jobid16}    RUN
    checkJobStatus    ${jobid17}    PSUSP
    checkJobStatus    ${jobid18}    PSUSP
    checkJobStatus    ${jobid19}    PEND
    checkJobStatus    ${jobid20}    PEND
    ${info1}    runCommand    su jhadmin \ -c "jctrl requeue -a -u all 0"
    log    ${info1}
    sleep    10
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid03}> is being requeued
    Should Contain    ${info1}    Job <${jobid04}> is being requeued
    Should Contain    ${info1}    Job <${jobid17}> is being requeued
    Should Contain    ${info1}    Job <${jobid18}> is being requeued
    Should Contain    ${info1}    Job <${jobid19}> is being requeued
    Should Contain    ${info1}    Job <${jobid20}> is being requeued
    Should Contain    ${info1}    Job <${jobid11}> is being requeued
    Should Contain    ${info1}    Job <${jobid12}> is being requeued
    Should Contain    ${info1}    Job <${jobid13}> is being requeued
    Should Contain    ${info1}    Job <${jobid14}> is being requeued
    Should Contain    ${info1}    Job <${jobid15}> is being requeued
    Should Contain    ${info1}    Job <${jobid16}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid03}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid04}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid05}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid06}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid11}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid12}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid13}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid14}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid15}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid16}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid17}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid18}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid19}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid20}"    1
    ${info2a}    runCommand    su user1 \ -c "jctrl requeue -a -u user2 0"
    log    ${info2a}
    Should Contain    ${info2a}    user1: User permission denied
    ${info2b}    runCommand    su user1 \ -c "jctrl requeue -a -u user2"
    log    ${info2b}
    Should Contain    ${info2b}    jctrl requeue: error: too few arguments
    Should Contain    ${info2b}    usage: jctrl requeue
    ${info2}    runCommand    su user1 \ -c "jctrl requeue -a -u user1 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    2
    [Teardown]    modHostInfo    rhelb=1 ()

case8.如果集群中没有符合要求的作业。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    ${info1}    runCommand    su jhadmin \ -c "jctrl requeue -r"
    log    ${info1}
    Should Contain    ${info1}    jctrl requeue: error: too few arguments
    Should Contain    ${info1}    usage: jctrl requeue
    ${info2}    runCommand    su jhadmin \ -c "jctrl requeue -e -u root"
    log    ${info2}
    Should Contain    ${info2}    jctrl requeue: error: too few arguments
    Should Contain    ${info2}    usage: jctrl requeue
    ${info3}    runCommand    su jhadmin \ -c "jctrl requeue -r 0"
    log    ${info3}
    Should Be Equal    ${info3}    No running job found
    ${info4}    runCommand    su jhadmin \ -c "jctrl requeue -e -u root 0"
    log    ${info4}
    Should Be Equal    ${info4}    No DONE/EXIT job found
    [Teardown]    killJob

case9.jctrl requeue -r -d 0。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su jhadmin -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su jhadmin -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -r -d 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    ${hista}    runCommand    su user1 -c "jhist -l ${jobid01}"
    log    ${hista}
    Should Not Contain    ${hista}    Pending: Requeue the job for the next run;
    ${histb}    runCommand    su user1 -c "jhist -l ${jobid02}"
    Should Not Contain    ${histb}    Pending: Requeue the job for the next run;
    log    ${histb}
    ${histc}    runCommand    su user1 -c "jhist -l ${jobid7}"
    log    ${histc}
    Should Not Contain    ${histc}    Pending: Requeue the job for the next run;
    ${histd}    runCommand    su user1 -c "jhist -l ${jobid8}"
    log    ${histd}
    Should Not Contain    ${histd}    Pending: Requeue the job for the next run;
    ${histe}    runCommand    su user1 -c "jhist -l ${jobid9}"
    log    ${histe}
    Should Not Contain    ${histe}    Pending: Requeue the job for the next run;
    ${histf}    runCommand    su user1 -c "jhist -l ${jobid10}"
    log    ${histf}
    Should Not Contain    ${histf}    Pending: Requeue the job for the next run;
    [Teardown]    modHostInfo    rhelb=1 ()

case10.当被requeue的作业和pend作业优先级相等时，按照顺序run。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    ${job0}    querySubmitInfo    su user1 -c "jsub -q low1 sleep 1000"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub -q high1 sleep 1000"
    ${jobid00}    getJobId    ${job00}
    checkJobStatus    ${jobid0}    RUN
    checkJobStatus    ${jobid00}    RUN
    ${job01}    querySubmitInfo    su user1 -c "jsub -q high1 sleep 1000"
    ${jobid01}    getJobId    ${job01}
    checkJobStatus    ${jobid01}    PEND
    sleep    2
    ${info}    runCommand    su jhadmin -c "jctrl requeue ${jobid00}"
    log    ${info}
    checkJobStatus    ${jobid0}    RUN
    ${jobinfo}    runCommand    su user1 -c "jjobs -u all -l"
    log    ${jobinfo}
    checkJobStatus    ${jobid00}    PEND
    checkJobStatus    ${jobid01}    RUN
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    [Teardown]    killJob

case11.当被requeue的作业和pend作业优先级相等时（不同队列），按顺序run。
    [Tags]    p1    tmp
    [Setup]
    killJob
    readyTest
    ${job0}    querySubmitInfo    su user1 -c "jsub -q low1 sleep 1000"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub -q high1 sleep 1000"
    ${jobid00}    getJobId    ${job00}
    checkJobStatus    ${jobid0}    RUN
    checkJobStatus    ${jobid00}    RUN
    ${job01}    querySubmitInfo    su user1 -c "jsub -q high2 sleep 1000"
    ${jobid01}    getJobId    ${job01}
    checkJobStatus    ${jobid01}    PEND
    sleep    2
    ${info}    runCommand    su jhadmin -c "jctrl requeue ${jobid00}"
    log    ${info}
    checkJobStatus    ${jobid0}    RUN
    ${jobinfo}    runCommand    su user1 -c "jjobs -u all -l"
    log    ${jobinfo}
    checkJobStatus    ${jobid00}    PEND
    checkJobStatus    ${jobid01}    RUN
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    [Teardown]    killJob

case12.jctrl requeue -h
    [Tags]    p1
    [Setup]    readyTest
    ${filedir}    getFileDir
    ${file}    Set Variable    ${filedir}/spooler/input/requeue-help.txt
    log    ${file}
    ${requeuehelp}    runCommand    jctrl requeue -h
    log    ${requeuehelp}
    ${requeuefile}    Get File    ${file}
    log    ${requeuefile}
    Should Be Equal    ${requeuehelp}    ${requeuefile}
    [Teardown]

case13.jctrl requeue -H jobid(所有状态的作业)
    [Tags]    p2
    [Setup]    readyTest
    ${filedir}    getFileDir
    ${file}    Set Variable    ${filedir}/spooler/input/jctrl.sh
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    checkJobStatus    ${jobid2}    RUN
    runCommand    jctrl kill ${jobid2}
    checkJobStatus    ${jobid2}    EXIT
    checkJobStatus    ${jobid1}    DONE
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 ${file}"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub ${file}"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub \ -q prehigh1 ${file}"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] sleep 1000"
    ${jobid8}    getJobId    ${job8}
    runCommand    su user1 -c "jctrl stop ${jobid4} ${jobid6}"
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    EXIT
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    USUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    PSUSP
    checkJobStatus    ${jobid7}    PEND
    checkJobStatus    ${jobid8}[1]    PEND
    checkJobStatus    ${jobid8}[2]    PEND
    ${requeueinfo1}    runCommand    su user1 -c "jctrl requeue -H ${jobid4} ${jobid5} ${jobid1} ${jobid2} ${jobid3} ${jobid6} ${jobid7} ${jobid8}[1] ${jobid8}[2]"
    log    ${requeueinfo1}
    Should Match Regexp    ${requeueinfo1}    Job <${jobid1}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid2}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid3}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid6}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid7}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid8}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid8}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid4}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid5}> is being requeued
    checkJobStatus    ${jobid1}    PSUSP
    checkJobStatus    ${jobid2}    PSUSP
    checkJobStatus    ${jobid3}    PSUSP
    checkJobStatus    ${jobid4}    PSUSP
    checkJobStatus    ${jobid5}    PSUSP
    checkJobStatus    ${jobid6}    PSUSP
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}[1]    PSUSP
    checkJobStatus    ${jobid8}[2]    PSUSP
    ${jobxx}    querySubmitInfo    su user1 -c "jsub -n 2 sleep 100"
    ${jobidxx}    getJobId    ${jobxx}
    checkJobStatus    ${jobidxx}    RUN
    sleep    2
    ${killxxinfo}    runCommand    su user1 -c "jctrl kill ${jobidxx}"
    log    ${killxxinfo}
    checkJobStatus    ${jobidxx}    EXIT
    ${outputdira}    Set Variable    ${filedir}/spooler/output/jobout${jobid4}.txt
    ${sizea}    Get File Size    ${outputdira}
    log    ${sizea}
    sleep    3
    ${sizeb}    Get File Size    ${outputdira}
    log    ${sizeb}
    Should Be Equal As Integers    ${sizea}    ${sizeb}
    ${outputdirc}    Set Variable    ${filedir}/spooler/output/jobout${jobid5}.txt
    ${sizec}    Get File Size    ${outputdirc}
    log    ${sizec}
    sleep    3
    ${sized}    Get File Size    ${outputdirc}
    log    ${sized}
    Should Be Equal As Integers    ${sizec}    ${sized}
    sleep    3
    ${resumeinfo1}    runCommand    su user1 -c "jctrl resume ${jobid4} ${jobid5} ${jobid1} ${jobid2} ${jobid3} ${jobid6} ${jobid7} ${jobid8}[1] ${jobid8}[2]"
    log    ${resumeinfo1}
    Should Match Regexp    ${resumeinfo1}    Job <${jobid1}> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid2}> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid3}> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid6}> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid7}> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid8}\\[1\\]> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid8}\\[2\\]> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid4}> is being resumed
    Should Match Regexp    ${resumeinfo1}    Job <${jobid5}> is being resumed
    checkJobStatus    ${jobid1}    PEND
    checkJobStatus    ${jobid2}    PEND
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    PEND
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    PEND
    checkJobStatus    ${jobid7}    PEND
    checkJobStatus    ${jobid8}[1]    PEND
    checkJobStatus    ${jobid8}[2]    PEND
    checkHostStatus    rhela1    closed_Full
    checkHostStatus    rhelb    closed_Full
    ${outputdir11}    Set Variable    ${filedir}/spooler/output/jobout${jobid3}.txt
    ${size11}    Get File Size    ${outputdir11}
    log    ${size11}
    sleep    3
    ${size22}    Get File Size    ${outputdir11}
    log    ${size22}
    Should Not Be Equal As Integers    ${size11}    ${size22}
    ${outputdir33}    Set Variable    ${filedir}/spooler/output/jobout${jobid5}.txt
    ${size33}    Get File Size    ${outputdir33}
    log    ${size33}
    sleep    3
    ${size44}    Get File Size    ${outputdir33}
    log    ${size44}
    Should Not Be Equal As Integers    ${size33}    ${size44}
    runCommand    su jhadmin -c "jctrl kill -u all 0"
    Remove Files    ${filedir}/spooler/output/*.txt
    [Teardown]    killJob

case14.(132)jctrl requeue -d
    [Tags]    p2
    [Setup]    readyTest
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid4}    PEND
    runCommand    jctrl kill ${jobid4}
    runCommand    jctrl kill ${jobid2}
    checkJobStatus    ${jobid2}    EXIT
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    EXIT
    ${requeueinfo}    runCommand    su jhadmin -c "jctrl requeue -d"
    log    ${requeueinfo}
    Should Contain    ${requeueinfo}    usage: jctrl requeue
    Should Contain    ${requeueinfo}    jctrl requeue: error: too few arguments
    [Teardown]    killJob

case15.(133)jctrl requeue -d 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -d 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid6}> is being requeued
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case16.(134)jctrl requeue -e
    [Tags]    p2
    [Setup]    readyTest
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid4}    PEND
    runCommand    jctrl kill ${jobid4}
    runCommand    jctrl kill ${jobid2}
    checkJobStatus    ${jobid2}    EXIT
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    EXIT
    ${requeueinfo}    runCommand    su jhadmin -c "jctrl requeue -e"
    log    ${requeueinfo}
    Should Contain    ${requeueinfo}    usage: jctrl requeue
    Should Contain    ${requeueinfo}    jctrl requeue: error: too few arguments
    [Teardown]    killJob

case17.(135)jctrl requeue -e 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -e 0"
    log    ${info2}
    Should Not Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid6}> is being requeued
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case18.(136)jctrl requeue -r 。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su jhadmin -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su jhadmin -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${requeueinfo}    runCommand    su jhadmin -c "jctrl requeue -r"
    log    ${requeueinfo}
    Should Contain    ${requeueinfo}    usage: jctrl requeue
    Should Contain    ${requeueinfo}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case19.(138)jctrl requeue -a。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${requeueinfo}    runCommand    su jhadmin -c "jctrl requeue -r"
    log    ${requeueinfo}
    Should Contain    ${requeueinfo}    usage: jctrl requeue
    Should Contain    ${requeueinfo}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case20.(140)jctrl requeue -H -u all \ -a 0。
    [Tags]    p1
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -H -u all -a 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid6}> is being requeued
    checkJobStatus    ${jobid0}    PSUSP
    checkJobStatus    ${jobid00}    PSUSP
    checkJobStatus    ${jobid01}    PSUSP
    checkJobStatus    ${jobid02}    PSUSP
    checkJobStatus    ${jobid1}    PSUSP
    checkJobStatus    ${jobid2}    PSUSP
    checkJobStatus    ${jobid3}    PSUSP
    checkJobStatus    ${jobid4}    PSUSP
    checkJobStatus    ${jobid5}    PSUSP
    checkJobStatus    ${jobid6}    PSUSP
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PSUSP
    checkJobStatus    ${jobid10}    PSUSP
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    ${jobxx}    querySubmitInfo    su user1 -c "jsub -n 4 sleep 1000"
    ${jobidxx}    getJobId    ${jobxx}
    checkJobStatus    ${jobidxx}    RUN
    ${jobyy}    querySubmitInfo    su user1 -c "jsub -n 4 sleep 1000"
    ${jobidyy}    getJobId    ${jobyy}
    checkJobStatus    ${jobidyy}    PEND
    [Teardown]    modHostInfo    rhelb=1 ()

case22.(142)jctrl requeue -J 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -J job1 -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -J job1 0"
    log    ${info2}
    Should Not Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid6}> is being requeued
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case21.(141)jctrl requeue -J
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -J job1 -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${requeueinfo}    runCommand    su jhadmin -c "jctrl requeue -J job1"
    log    ${requeueinfo}
    Should Contain    ${requeueinfo}    usage: jctrl requeue
    Should Contain    ${requeueinfo}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case23.(143)jctrl requeue jobid
    [Tags]    p2
    [Setup]    readyTest
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    checkJobStatus    ${jobid2}    RUN
    runCommand    jctrl kill ${jobid2}
    checkJobStatus    ${jobid2}    EXIT
    checkJobStatus    ${jobid1}    DONE
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub \ -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] sleep 1000"
    ${jobid8}    getJobId    ${job8}
    runCommand    su user1 -c "jctrl stop ${jobid4} ${jobid6}"
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    EXIT
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    USUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    PSUSP
    checkJobStatus    ${jobid7}    PEND
    checkJobStatus    ${jobid8}[1]    PEND
    checkJobStatus    ${jobid8}[2]    PEND
    ${requeueinfo1}    runCommand    su user1 -c "jctrl requeue ${jobid4} ${jobid5} ${jobid1} ${jobid2} ${jobid3} ${jobid6} ${jobid7} ${jobid8}[1] ${jobid8}[2]"
    log    ${requeueinfo1}
    Should Match Regexp    ${requeueinfo1}    Job <${jobid1}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid2}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid3}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid6}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid7}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid8}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid8}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid4}> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid5}> is being requeued
    ${jobxx}    querySubmitInfo    su user1 -c "jsub -n 2 sleep 100"
    ${jobidxx}    getJobId    ${jobxx}
    checkHostStatus    rhela1    closed_Full
    checkHostStatus    rhelb    closed_Full
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}[1]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}[2]"    1
    runCommand    su jhadmin -c "jctrl kill -u all 0"
    [Teardown]    killJob

case24.(144)jctrl requeue jobid[index]
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] sleep 1000"
    ${jobid2}    getJobId    ${job2}
    checkJobStatus    ${jobid2}[1]    RUN
    checkJobStatus    ${jobid2}[2]    RUN
    runCommand    jctrl kill ${jobid2}[1] ${jobid2}[2]
    checkJobStatus    ${jobid1}[1]    DONE
    checkJobStatus    ${jobid1}[2]    DONE
    checkJobStatus    ${jobid2}[1]    EXIT
    checkJobStatus    ${jobid2}[2]    EXIT
    ${job3}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid3}[1]    RUN
    checkJobStatus    ${jobid3}[2]    RUN
    checkJobStatus    ${jobid4}[1]    RUN
    checkJobStatus    ${jobid4}[2]    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J arr[1-2] sleep 1000"
    ${jobid7}    getJobId    ${job7}
    runCommand    su user1 -c "jctrl stop ${jobid4}[1] ${jobid4}[2] ${jobid6}[1] ${jobid6}[2]"
    checkJobStatus    ${jobid1}[1]    DONE
    checkJobStatus    ${jobid1}[2]    DONE
    checkJobStatus    ${jobid2}[1]    EXIT
    checkJobStatus    ${jobid2}[2]    EXIT
    checkJobStatus    ${jobid3}[1]    SSUSP
    checkJobStatus    ${jobid3}[2]    SSUSP
    checkJobStatus    ${jobid4}[1]    USUSP
    checkJobStatus    ${jobid4}[2]    USUSP
    checkJobStatus    ${jobid5}[1]    RUN
    checkJobStatus    ${jobid5}[2]    RUN
    checkJobStatus    ${jobid6}[1]    PSUSP
    checkJobStatus    ${jobid6}[2]    PSUSP
    checkJobStatus    ${jobid7}[1]    PEND
    checkJobStatus    ${jobid7}[2]    PEND
    ${requeueinfo1}    runCommand    su user1 -c "jctrl requeue ${jobid1}[1] ${jobid1}[2] ${jobid2}[1] ${jobid2}[2] ${jobid3}[1] ${jobid3}[2] ${jobid4}[1] ${jobid4}[2] ${jobid5}[1] ${jobid5}[2] ${jobid6}[1] ${jobid6}[2] ${jobid7}[1] ${jobid7}[2]"
    log    ${requeueinfo1}
    Should Match Regexp    ${requeueinfo1}    Job <${jobid1}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid1}\\[2\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid2}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid2}\\[2\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid3}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid3}\\[2\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid4}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid4}\\[2\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid5}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid5}\\[2\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid6}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid6}\\[2\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid7}\\[1\\]> is being requeued
    Should Match Regexp    ${requeueinfo1}    Job <${jobid7}\\[2\\]> is being requeued
    checkHostStatus    rhela1    closed_Full
    checkHostStatus    rhelb    closed_Full
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid1}\\[1\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}\\[2\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}\\[1\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}\\[2\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}\\[1\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}\\[2\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}\\[1\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}\\[2\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}\\[1\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}\\[2\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}\\[1\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}\\[2\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}\\[1\\]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}\\[2\\]"    1
    runCommand    su jhadmin -c "jctrl kill -u all 0"
    [Teardown]    modHostInfo    rhelb=1 ()

case25.(145)jctrl requeue 数组作业
    [Tags]    p2
    [Setup]    readyTest
    ${job1}    querySubmitInfo    su user1 -c "jsub -J arr[1-5] sleep 1000"
    ${jobid1}    getJobId    ${job1}
    checkJobStatus    ${jobid1}[1]    RUN
    checkJobStatus    ${jobid1}[2]    RUN
    checkJobStatus    ${jobid1}[3]    PEND
    checkJobStatus    ${jobid1}[4]    PEND
    checkJobStatus    ${jobid1}[5]    PEND
    ${requeueinfo1}    runCommand    su user1 -c "jctrl requeue ${jobid1}"
    log    ${requeueinfo1}
    Should Contain    ${requeueinfo1}    Job <${jobid1}[1]> is being requeued
    Should Contain    ${requeueinfo1}    Job <${jobid1}[2]> is being requeued
    Should Contain    ${requeueinfo1}    Job <${jobid1}[3]> is being requeued
    Should Contain    ${requeueinfo1}    Job <${jobid1}[4]> is being requeued
    Should Contain    ${requeueinfo1}    Job <${jobid1}[5]> is being requeued
    checkHostStatus    rhela1    closed_Full
    checkHostStatus    rhelb    closed_Full
    checkHistContain    su user1 -c "jhist -l ${jobid1}[1]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}[2]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}[3]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}[4]"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}[5]"    1
    [Teardown]    killJob

case26.(146)jctrl requeue -d -u
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${log1}    runCommand    su user1 -c "jctrl requeue -d -u user2 "
    log    ${log1}
    Should Contain    ${log1}    usage: jctrl requeue
    Should Contain    ${log1}    jctrl requeue: error: too few arguments
    ${log2}    runCommand    su user1 -c "jctrl requeue -d -u user1 "
    log    ${log2}
    Should Contain    ${log2}    usage: jctrl requeue
    Should Contain    ${log2}    jctrl requeue: error: too few arguments
    ${log3}    runCommand    su user1 -c "jctrl requeue -d -u all "
    log    ${log3}
    Should Contain    ${log3}    usage: jctrl requeue
    Should Contain    ${log3}    jctrl requeue: error: too few arguments
    ${log4}    runCommand    su jhadmin -c "jctrl requeue -d -u user1 "
    log    ${log4}
    Should Contain    ${log4}    usage: jctrl requeue
    Should Contain    ${log4}    jctrl requeue: error: too few arguments
    ${log5}    runCommand    su jhadmin -c "jctrl requeue -d -u all"
    log    ${log5}
    Should Contain    ${log5}    usage: jctrl requeue
    Should Contain    ${log5}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case27.(147)jctrl requeue -d -u 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${log1}    runCommand    su user1 -c "jctrl requeue -d -u user2 0"
    log    ${log1}
    Should Be Equal    ${log1}    user1: User permission denied
    ${log2}    runCommand    su user1 -c "jctrl requeue -d -u user1 0"
    log    ${log2}
    Should Be Equal    ${log2}    Job <${jobid1}> is being requeued
    ${log3}    runCommand    su user1 -c "jctrl requeue -d -u all 0"
    log    ${log3}
    Should Be Equal    ${log3}    No DONE/EXIT job found
    ${log4}    runCommand    su jhadmin -c "jctrl requeue -d -u user1 0"
    log    ${log4}
    Should Be Equal    ${log4}    No DONE/EXIT job found
    ${log5}    runCommand    su jhadmin -c "jctrl requeue -d -u all 0"
    log    ${log5}
    Should Be Equal    ${log5}    Job <${jobid2}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case28.(148)jctrl requeue -d -J
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${log1}    runCommand    su jhadmin -c "jctrl requeue -d -J job2"
    log    ${log1}
    Should Contain    ${log1}    usage: jctrl requeue
    Should Contain    ${log1}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case29.(149)jctrl requeue -d -J 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${string1}    runCommand    su user1 -c "jctrl requeue -d -J job2 0"
    log    ${string1}
    Should Be Equal    ${string1}    Job <${jobid2}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case30.(150)jctrl requeue -e -u
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${log1}    runCommand    su user1 -c "jctrl requeue -e -u user2 "
    log    ${log1}
    Should Contain    ${log1}    usage: jctrl requeue
    Should Contain    ${log1}    jctrl requeue: error: too few arguments
    ${log2}    runCommand    su user1 -c "jctrl requeue -e -u user1 "
    log    ${log2}
    Should Contain    ${log2}    usage: jctrl requeue
    Should Contain    ${log2}    jctrl requeue: error: too few arguments
    ${log3}    runCommand    su user1 -c "jctrl requeue -e -u all "
    log    ${log3}
    Should Contain    ${log3}    usage: jctrl requeue
    Should Contain    ${log3}    jctrl requeue: error: too few arguments
    ${log4}    runCommand    su jhadmin -c "jctrl requeue -e -u user1 "
    log    ${log4}
    Should Contain    ${log4}    usage: jctrl requeue
    Should Contain    ${log4}    jctrl requeue: error: too few arguments
    ${log5}    runCommand    su jhadmin -c "jctrl requeue -e -u all"
    log    ${log5}
    Should Contain    ${log5}    usage: jctrl requeue
    Should Contain    ${log5}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case31.(151)jctrl requeue -e -u 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${log1}    runCommand    su user1 -c "jctrl requeue -e -u user2 0"
    log    ${log1}
    Should Be Equal    ${log1}    user1: User permission denied
    ${log2}    runCommand    su user1 -c "jctrl requeue -e -u user1 0"
    log    ${log2}
    Should Be Equal    ${log2}    Job <${jobid3}> is being requeued
    ${log3}    runCommand    su user1 -c "jctrl requeue -e -u all 0"
    log    ${log3}
    Should Be Equal    ${log3}    No DONE/EXIT job found
    ${log4}    runCommand    su jhadmin -c "jctrl requeue -e -u user1 0"
    log    ${log4}
    Should Be Equal    ${log4}    No DONE/EXIT job found
    ${log5}    runCommand    su jhadmin -c "jctrl requeue -e -u all 0"
    log    ${log5}
    Should Be Equal    ${log5}    Job <${jobid4}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case32.(152)jctrl requeue -e -J
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${log1}    runCommand    su user1 -c "jctrl requeue -e -J job2"
    log    ${log1}
    Should Contain    ${log1}    usage: jctrl requeue
    Should Contain    ${log1}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case33.(153)jctrl requeue -e -J 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${string1}    runCommand    su user1 -c "jctrl requeue -e -J job2 0"
    log    ${string1}
    Should Be Equal    ${string1}    Job <${jobid4}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case34.(154)jctrl requeue -r -u
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -r -u user2"
    log    ${info1}
    Should Contain    ${info1}    usage: jctrl requeue
    Should Contain    ${info1}    jctrl requeue: error: too few arguments
    ${info2}    runCommand    su user1 -c "jctrl requeue -r -u user1"
    log    ${info2}
    Should Contain    ${info2}    usage: jctrl requeue
    Should Contain    ${info2}    jctrl requeue: error: too few arguments
    ${info3}    runCommand    su user1 -c "jctrl requeue -r -u all"
    log    ${info3}
    Should Contain    ${info3}    usage: jctrl requeue
    Should Contain    ${info3}    jctrl requeue: error: too few arguments
    ${info4}    runCommand    su jhadmin -c "jctrl requeue -r -u user1"
    log    ${info4}
    Should Contain    ${info4}    usage: jctrl requeue
    Should Contain    ${info4}    jctrl requeue: error: too few arguments
    ${info5}    runCommand    su jhadmin -c "jctrl requeue -r -u all"
    log    ${info5}
    Should Contain    ${info5}    usage: jctrl requeue
    Should Contain    ${info5}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case35.(155)jctrl requeue -r -u 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -r -u user2 0"
    log    ${info1}
    Should Be Equal    ${info1}    user1: User permission denied
    ${info2}    runCommand    su user1 -c "jctrl requeue -r -u user1 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid6}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid11}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid12}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid13}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    killJob
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info3}    runCommand    su user1 -c "jctrl requeue -r -u all 0"
    log    ${info3}
    Should Contain    ${info3}    Job <${jobid5}> is being requeued
    Should Contain    ${info3}    Job <${jobid7}> is being requeued
    Should Contain    ${info3}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid6}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid11}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid12}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid13}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    killJob
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info4}    runCommand    su jhadmin -c "jctrl requeue -r -u all 0"
    log    ${info4}
    Should Contain    ${info4}    Job <${jobid5}> is being requeued
    Should Contain    ${info4}    Job <${jobid7}> is being requeued
    Should Contain    ${info4}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid4}> is being requeued
    Should Contain    ${info4}    Job <${jobid6}> is being requeued
    Should Contain    ${info4}    Job <${jobid8}> is being requeued
    Should Contain    ${info4}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid11}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid12}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid13}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case36.(156)jctrl requeue -r -J
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12} ${jobid8}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${string1}    runCommand    su user1 -c "jctrl requeue -J job1 -r "
    log    ${string1}
    Should Contain    ${string1}    usage: jctrl requeue
    Should Contain    ${string1}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case37.(157)jctrl requeue -r -J 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12} ${jobid8}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${string1}    runCommand    su user1 -c "jctrl requeue -J job1 -r \ 0"
    log    ${string1}
    Should Contain    ${string1}    Job <${jobid5}> is being requeued
    Should Contain    ${string1}    Job <${jobid7}> is being requeued
    Should Contain    ${string1}    Job <${jobid9}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid1}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid2}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid3}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid4}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid6}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid8}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid10}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid11}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid12}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid13}> is being requeued
    Should Not Contain    ${string1}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case38.(158)jctrl requeue -a -u
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -u user2 -a"
    log    ${info1}
    Should Contain    ${info1}    usage: jctrl requeue
    Should Contain    ${info1}    jctrl requeue: error: too few arguments
    ${info2}    runCommand    su user1 -c "jctrl requeue -u user1 -a"
    log    ${info2}
    Should Contain    ${info2}    usage: jctrl requeue
    Should Contain    ${info2}    jctrl requeue: error: too few arguments
    ${info3}    runCommand    su jhadmin -c "jctrl requeue -u user2 -a"
    log    ${info3}
    Should Contain    ${info3}    usage: jctrl requeue
    Should Contain    ${info3}    jctrl requeue: error: too few arguments
    ${info4}    runCommand    su user1 -c "jctrl requeue -u all -a"
    log    ${info4}
    Should Contain    ${info4}    usage: jctrl requeue
    Should Contain    ${info4}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case39.(159)jctrl requeue -a -u 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -u user2 -a 0"
    log    ${info1}
    Should Be Equal    ${info1}    user1: User permission denied
    ${info2}    runCommand    su user1 -c "jctrl requeue -u user1 -a 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid6}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Contain    ${info2}    Job <${jobid11}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid12}> is being requeued
    Should Contain    ${info2}    Job <${jobid13}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid11}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid13}"    1
    ${info2}    runCommand    su jhadmin -c "jctrl requeue -u user2 -a 0"
    log    ${info2}
    Should Not Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid6}> is being requeued
    Should Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid11}> is being requeued
    Should Contain    ${info2}    Job <${jobid12}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid13}> is being requeued
    Should Contain    ${info2}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid12}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid14}"    1
    killJob
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user2 -c "jsub sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -q prelow1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user2 -c "jsub -q prehigh1 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid7} ${jobid8} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    SSUSP
    checkJobStatus    ${jobid7}    USUSP
    checkJobStatus    ${jobid8}    USUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info4}    runCommand    su user1 -c "jctrl requeue -u all -a 0"
    log    ${info4}
    Should Contain    ${info4}    Job <${jobid5}> is being requeued
    Should Contain    ${info4}    Job <${jobid7}> is being requeued
    Should Contain    ${info4}    Job <${jobid9}> is being requeued
    Should Contain    ${info4}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid2}> is being requeued
    Should Contain    ${info4}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid6}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid10}> is being requeued
    Should Contain    ${info4}    Job <${jobid11}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid12}> is being requeued
    Should Contain    ${info4}    Job <${jobid13}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid11}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid13}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case40.(160)jctrl requeue -a -J
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -J job1 -a"
    log    ${info1}
    Should Contain    ${info1}    usage: jctrl requeue
    Should Contain    ${info1}    jctrl requeue: error: too few arguments
    [Teardown]    modHostInfo    rhelb=1 ()

case41.(161)jctrl requeue -a -J 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prelow1 -J job1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${job9}    querySubmitInfo    su user1 -c "jsub -q prehigh1 -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    PEND
    checkJobStatus    ${jobid11}    PEND
    checkJobStatus    ${jobid12}    PEND
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    runCommand    jctrl stop ${jobid9} ${jobid10} ${jobid11} ${jobid12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    SSUSP
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    checkJobStatus    ${jobid9}    USUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkJobStatus    ${jobid11}    PSUSP
    checkJobStatus    ${jobid12}    PSUSP
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -J job1 -a 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid6}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Contain    ${info2}    Job <${jobid11}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid12}> is being requeued
    Should Contain    ${info2}    Job <${jobid13}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid14}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid11}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid13}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case42.(162)jctrl requeue -d/-e/-r/-a/ -H 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info2}    runCommand    su user1 -c "jctrl requeue -d -H 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Not Contain    ${info2}    Job <${jobid6}> is being requeued
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkJobStatus    ${jobid0}    PSUSP
    checkJobStatus    ${jobid00}    PSUSP
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${jobaa}    queryJobInfo    ${jobid0}
    ${reasonaa}    getJobPndRsn    ${jobaa}
    log    ${reasonaa}
    Should Be Equal    ${reasonaa}    The job was suspended by the user while pending;
    ${jobbb}    queryJobInfo    ${jobid00}
    ${reasonbb}    getJobPndRsn    ${jobbb}
    log    ${reasonbb}
    Should Be Equal    ${reasonbb}    The job was suspended by the user while pending;
    ${info3}    runCommand    su user1 -c "jctrl requeue -e -H 0"
    log    ${info3}
    Should Not Contain    ${info3}    Job <${jobid0}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid00}> is being requeued
    Should Contain    ${info3}    Job <${jobid01}> is being requeued
    Should Contain    ${info3}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid5}> is being requeued
    Should Not Contain    ${info3}    Job <${jobid6}> is being requeued
    sleep    10
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkJobStatus    ${jobid0}    PSUSP
    checkJobStatus    ${jobid00}    PSUSP
    checkJobStatus    ${jobid01}    PSUSP
    checkJobStatus    ${jobid02}    PSUSP
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${jobcc}    queryJobInfo    ${jobid01}
    ${reasoncc}    getJobPndRsn    ${jobcc}
    log    ${reasoncc}
    ${jobdd}    queryJobInfo    ${jobid02}
    ${reasondd}    getJobPndRsn    ${jobdd}
    log    ${reasondd}
    Should Be Equal    ${reasoncc}    The job was suspended by the user while pending;
    Should Be Equal    ${reasondd}    The job was suspended by the user while pending;
    ${info4}    runCommand    su user1 -c "jctrl requeue -r -H 0"
    log    ${info4}
    Should Not Contain    ${info4}    Job <${jobid0}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid00}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid01}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info4}    Job <${jobid10}> is being requeued
    Should Contain    ${info4}    Job <${jobid1}> is being requeued
    Should Contain    ${info4}    Job <${jobid2}> is being requeued
    Should Contain    ${info4}    Job <${jobid3}> is being requeued
    Should Contain    ${info4}    Job <${jobid4}> is being requeued
    Should Contain    ${info4}    Job <${jobid5}> is being requeued
    Should Contain    ${info4}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkJobStatus    ${jobid0}    PSUSP
    checkJobStatus    ${jobid00}    PSUSP
    checkJobStatus    ${jobid01}    PSUSP
    checkJobStatus    ${jobid02}    PSUSP
    checkJobStatus    ${jobid1}    PSUSP
    checkJobStatus    ${jobid2}    PSUSP
    checkJobStatus    ${jobid3}    PSUSP
    checkJobStatus    ${jobid4}    PSUSP
    checkJobStatus    ${jobid5}    PSUSP
    checkJobStatus    ${jobid6}    PSUSP
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    ${jobe}    queryJobInfo    ${jobid1}
    ${reasone}    getJobPndRsn    ${jobe}
    log    ${reasone}
    ${jobf}    queryJobInfo    ${jobid2}
    ${reasonf}    getJobPndRsn    ${jobf}
    log    ${reasonf}
    ${jobg}    queryJobInfo    ${jobid3}
    ${reasong}    getJobPndRsn    ${jobg}
    log    ${reasong}
    ${jobh}    queryJobInfo    ${jobid4}
    ${reasonh}    getJobPndRsn    ${jobh}
    log    ${reasonh}
    ${jobk}    queryJobInfo    ${jobid5}
    ${reasonk}    getJobPndRsn    ${jobk}
    log    ${reasonk}
    ${jobm}    queryJobInfo    ${jobid6}
    ${reasonm}    getJobPndRsn    ${jobm}
    log    ${reasonm}
    Should Be Equal    ${reasone}    The job was suspended by the user while pending;
    Should Be Equal    ${reasonf}    The job was suspended by the user while pending;
    Should Be Equal    ${reasong}    The job was suspended by the user while pending;
    Should Be Equal    ${reasonh}    The job was suspended by the user while pending;
    Should Be Equal    ${reasonk}    The job was suspended by the user while pending;
    Should Be Equal    ${reasonm}    The job was suspended by the user while pending;
    ${info5}    runCommand    su user1 -c "jctrl requeue -a -H 0"
    log    ${info5}
    Should Contain    ${info5}    Job <${jobid0}> is being requeued
    Should Contain    ${info5}    Job <${jobid00}> is being requeued
    Should Contain    ${info5}    Job <${jobid01}> is being requeued
    Should Contain    ${info5}    Job <${jobid02}> is being requeued
    Should Contain    ${info5}    Job <${jobid7}> is being requeued
    Should Contain    ${info5}    Job <${jobid8}> is being requeued
    Should Contain    ${info5}    Job <${jobid9}> is being requeued
    Should Contain    ${info5}    Job <${jobid10}> is being requeued
    Should Contain    ${info5}    Job <${jobid1}> is being requeued
    Should Contain    ${info5}    Job <${jobid2}> is being requeued
    Should Contain    ${info5}    Job <${jobid3}> is being requeued
    Should Contain    ${info5}    Job <${jobid4}> is being requeued
    Should Contain    ${info5}    Job <${jobid5}> is being requeued
    Should Contain    ${info5}    Job <${jobid6}> is being requeued
    checkJobStatus    ${jobid0}    PSUSP
    checkJobStatus    ${jobid00}    PSUSP
    checkJobStatus    ${jobid01}    PSUSP
    checkJobStatus    ${jobid02}    PSUSP
    checkJobStatus    ${jobid1}    PSUSP
    checkJobStatus    ${jobid2}    PSUSP
    checkJobStatus    ${jobid3}    PSUSP
    checkJobStatus    ${jobid4}    PSUSP
    checkJobStatus    ${jobid5}    PSUSP
    checkJobStatus    ${jobid6}    PSUSP
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PSUSP
    checkJobStatus    ${jobid10}    PSUSP
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    ${joba}    queryJobInfo    ${jobid0}
    ${reasona}    getJobPndRsn    ${joba}
    log    ${reasona}
    Should Be Equal    ${reasona}    The job was suspended by the user while pending;
    ${jobb}    queryJobInfo    ${jobid00}
    ${reasonb}    getJobPndRsn    ${jobb}
    log    ${reasonb}
    Should Be Equal    ${reasonb}    The job was suspended by the user while pending;
    ${jobc}    queryJobInfo    ${jobid01}
    ${reasonc}    getJobPndRsn    ${jobc}
    log    ${reasonc}
    Should Be Equal    ${reasonc}    The job was suspended by the user while pending;
    ${jobd}    queryJobInfo    ${jobid02}
    ${reasond}    getJobPndRsn    ${jobd}
    log    ${reasond}
    Should Be Equal    ${reasond}    The job was suspended by the user while pending;
    ${jobe}    queryJobInfo    ${jobid1}
    ${reasone}    getJobPndRsn    ${jobe}
    log    ${reasone}
    Should Be Equal    ${reasone}    The job was suspended by the user while pending;
    ${jobf}    queryJobInfo    ${jobid2}
    ${reasonf}    getJobPndRsn    ${jobf}
    log    ${reasonf}
    Should Be Equal    ${reasonf}    The job was suspended by the user while pending;
    ${jobg}    queryJobInfo    ${jobid3}
    ${reasong}    getJobPndRsn    ${jobg}
    log    ${reasong}
    Should Be Equal    ${reasong}    The job was suspended by the user while pending;
    ${jobh}    queryJobInfo    ${jobid4}
    ${reasonh}    getJobPndRsn    ${jobh}
    log    ${reasonh}
    Should Be Equal    ${reasonh}    The job was suspended by the user while pending;
    ${jobk}    queryJobInfo    ${jobid5}
    ${reasonk}    getJobPndRsn    ${jobk}
    log    ${reasonk}
    Should Be Equal    ${reasonk}    The job was suspended by the user while pending;
    ${jobm}    queryJobInfo    ${jobid6}
    ${reasonm}    getJobPndRsn    ${jobm}
    log    ${reasonm}
    Should Be Equal    ${reasonm}    The job was suspended by the user while pending;
    ${jobn}    queryJobInfo    ${jobid7}
    ${reasonn}    getJobPndRsn    ${jobn}
    log    ${reasonn}
    Should Be Equal    ${reasonn}    The job was suspended by the user while pending;
    ${jobo}    queryJobInfo    ${jobid8}
    ${reasono}    getJobPndRsn    ${jobo}
    log    ${reasono}
    Should Be Equal    ${reasono}    The job was suspended by the user while pending;
    ${jobp}    queryJobInfo    ${jobid9}
    ${reasonp}    getJobPndRsn    ${jobp}
    log    ${reasonp}
    Should Be Equal    ${reasonp}    The job was suspended by the user while pending;
    ${jobq}    queryJobInfo    ${jobid10}
    ${reasonq}    getJobPndRsn    ${jobq}
    log    ${reasonq}
    Should Be Equal    ${reasonq}    The job was suspended by the user while pending;
    [Teardown]    modHostInfo    rhelb=1 ()

case43.(163)jctrl requeue -d/-e/-r -a 0将所有状态的作业都requeue。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -d -a 0"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    ${info2}    runCommand    su user1 -c "jctrl requeue -e -a 0"
    log    ${info2}
    Should Contain    ${info2}    Job <${jobid0}> is being requeued
    Should Contain    ${info2}    Job <${jobid00}> is being requeued
    Should Contain    ${info2}    Job <${jobid01}> is being requeued
    Should Contain    ${info2}    Job <${jobid02}> is being requeued
    Should Contain    ${info2}    Job <${jobid7}> is being requeued
    Should Contain    ${info2}    Job <${jobid8}> is being requeued
    Should Contain    ${info2}    Job <${jobid9}> is being requeued
    Should Contain    ${info2}    Job <${jobid10}> is being requeued
    Should Contain    ${info2}    Job <${jobid1}> is being requeued
    Should Contain    ${info2}    Job <${jobid2}> is being requeued
    Should Contain    ${info2}    Job <${jobid3}> is being requeued
    Should Contain    ${info2}    Job <${jobid4}> is being requeued
    Should Contain    ${info2}    Job <${jobid5}> is being requeued
    Should Contain    ${info2}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    2
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    2
    ${info3}    runCommand    su user1 -c "jctrl requeue -r -a 0"
    log    ${info3}
    Should Contain    ${info3}    Job <${jobid0}> is being requeued
    Should Contain    ${info3}    Job <${jobid00}> is being requeued
    Should Contain    ${info3}    Job <${jobid01}> is being requeued
    Should Contain    ${info3}    Job <${jobid02}> is being requeued
    Should Contain    ${info3}    Job <${jobid7}> is being requeued
    Should Contain    ${info3}    Job <${jobid8}> is being requeued
    Should Contain    ${info3}    Job <${jobid9}> is being requeued
    Should Contain    ${info3}    Job <${jobid10}> is being requeued
    Should Contain    ${info3}    Job <${jobid1}> is being requeued
    Should Contain    ${info3}    Job <${jobid2}> is being requeued
    Should Contain    ${info3}    Job <${jobid3}> is being requeued
    Should Contain    ${info3}    Job <${jobid4}> is being requeued
    Should Contain    ${info3}    Job <${jobid5}> is being requeued
    Should Contain    ${info3}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    3
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    3
    [Teardown]    modHostInfo    rhelb=1 ()

case44.(164)jctrl requeue -d -r/-d -r 0将run、ssusp、ususp、done状态的作业requeue
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info0}    runCommand    su user1 -c "jctrl requeue -d -r"
    log    ${info0}
    Should Contain    ${info0}    usage: jctrl requeue
    Should Contain    ${info0}    jctrl requeue: error: too few arguments
    ${info1}    runCommand    su user1 -c "jctrl requeue -d -r 0"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case45.(165)jctrl requeue -d -e/-d -e 0将done、exit的作业requeue
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info0}    runCommand    su user1 -c "jctrl requeue -d -e"
    log    ${info0}
    Should Contain    ${info0}    usage: jctrl requeue
    Should Contain    ${info0}    jctrl requeue: error: too few arguments
    ${info1}    runCommand    su user1 -c "jctrl requeue -d -e 0"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case46.(166)jctrl requeue -e -r/-e -r 0将run、ssusp、ususp、exit状态的作业requeue
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info0}    runCommand    su user1 -c "jctrl requeue -e -r"
    log    ${info0}
    Should Contain    ${info0}    usage: jctrl requeue
    Should Contain    ${info0}    jctrl requeue: error: too few arguments
    ${info1}    runCommand    su user1 -c "jctrl requeue -e -r 0"
    log    ${info1}
    Should Not Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case48.(167)jctrl requeue -d -e -u -J 0将指定用户的指定作业名的为done和exit的作业requeue。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job1}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    runCommand    jctrl kill ${jobid3} ${jobid4}
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    ${job5}    querySubmitInfo    su user2 -c "jsub -q prelow1 -J job1 sleep 1"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user2 -c "jsub -J job2 sleep 1"
    ${jobid6}    getJobId    ${job6}
    ${job7}    querySubmitInfo    su user2 -c "jsub -J job1 sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user2 -c "jsub -J job2 sleep 1000"
    ${jobid8}    getJobId    ${job8}
    checkJobStatus    ${jobid5}    DONE
    checkJobStatus    ${jobid6}    DONE
    checkJobStatus    ${jobid7}    RUN
    checkJobStatus    ${jobid8}    RUN
    ${killinfoa}    runCommand    su user2 -c "jctrl kill ${jobid7} ${jobid8}"
    log    ${killinfoa}
    checkJobStatus    ${jobid7}    EXIT
    checkJobStatus    ${jobid8}    EXIT
    ${job9}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub -J job2 sleep 1000"
    ${jobid10}    getJobId    ${job10}
    ${job11}    querySubmitInfo    su user2 -c "jsub -J job1 sleep 1000"
    ${jobid11}    getJobId    ${job11}
    ${job12}    querySubmitInfo    su user2 -c "jsub -J job2 sleep 1000"
    ${jobid12}    getJobId    ${job12}
    checkJobStatus    ${jobid1}    DONE
    checkJobStatus    ${jobid2}    DONE
    checkJobStatus    ${jobid3}    EXIT
    checkJobStatus    ${jobid4}    EXIT
    checkJobStatus    ${jobid5}    DONE
    checkJobStatus    ${jobid6}    DONE
    checkJobStatus    ${jobid7}    EXIT
    checkJobStatus    ${jobid8}    EXIT
    checkJobStatus    ${jobid9}    RUN
    checkJobStatus    ${jobid10}    RUN
    checkJobStatus    ${jobid11}    RUN
    checkJobStatus    ${jobid12}    RUN
    ${job13}    querySubmitInfo    su user1 -c "jsub -J job1 sleep 1000"
    ${jobid13}    getJobId    ${job13}
    ${job14}    querySubmitInfo    su user2 -c "jsub -J job2 sleep 1000"
    ${jobid14}    getJobId    ${job14}
    checkJobStatus    ${jobid13}    PEND
    checkJobStatus    ${jobid14}    PEND
    ${info1}    runCommand    su jhadmin -c "jctrl requeue -d -e -u user2 \ -J job2 0"
    log    ${info1}
    Should Not Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Not Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case49.(172)jctrl requeue -d 后跟各种状态作业的jobid，指定jobid的作业都可以被requeue。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -d ${jobid0} ${jobid00} ${jobid01} ${jobid02} ${jobid1} ${jobid2} ${jobid3} ${jobid4} ${jobid5} ${jobid6} ${jobid7} ${jobid8} ${jobid9} ${jobid10}"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case50.(173)jctrl requeue -e 后跟各种状态作业的jobid，指定jobid的作业都可以被requeue。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -e ${jobid0} ${jobid00} ${jobid01} ${jobid02} ${jobid1} ${jobid2} ${jobid3} ${jobid4} ${jobid5} ${jobid6} ${jobid7} ${jobid8} ${jobid9} ${jobid10}"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case51.(174)jctrl requeue -r 后跟各种状态作业的jobid，指定jobid的作业都可以被requeue。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -r ${jobid0} ${jobid00} ${jobid01} ${jobid02} ${jobid1} ${jobid2} ${jobid3} ${jobid4} ${jobid5} ${jobid6} ${jobid7} ${jobid8} ${jobid9} ${jobid10}"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case52.(175)jctrl requeue -a 后跟各种状态作业的jobid，指定jobid的作业都可以被requeue。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info1}    runCommand    su user1 -c "jctrl requeue -a ${jobid0} ${jobid00} ${jobid01} ${jobid02} ${jobid1} ${jobid2} ${jobid3} ${jobid4} ${jobid5} ${jobid6} ${jobid7} ${jobid8} ${jobid9} ${jobid10}"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case53.(176)jctrl requeue -u 后跟各种状态作业的jobid，指定jobid的作业都可以被requeue。
    [Tags]    p2    bug
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info1}    runCommand    su jhadmin -c "jctrl requeue -u jhadmin ${jobid0} ${jobid00} ${jobid01} ${jobid02} ${jobid1} ${jobid2} ${jobid3} ${jobid4} ${jobid5} ${jobid6} ${jobid7} ${jobid8} ${jobid9} ${jobid10}"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case54.(177)bug 12118 jctrl requeue -J 后跟各种状态作业的jobid，指定jobid的作业都可以被requeue。
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    addOrModifyHost    rhelb    3 ()
    jadminJhdsSched
    checkClusterStatus
    ${job0}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid0}    getJobId    ${job0}
    ${job00}    querySubmitInfo    su user1 -c "jsub sleep 1"
    ${jobid00}    getJobId    ${job00}
    ${job01}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid01}    getJobId    ${job01}
    ${job02}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid02}    getJobId    ${job02}
    checkJobStatus    ${jobid01}    RUN
    checkJobStatus    ${jobid02}    RUN
    runCommand    su jhadmin -c "jctrl kill ${jobid01} ${jobid02}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    ${job1}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid1}    getJobId    ${job1}
    ${job2}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid2}    getJobId    ${job2}
    ${job3}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid3}    getJobId    ${job3}
    ${job4}    querySubmitInfo    su user1 -c "jsub -q prelow1 sleep 1000"
    ${jobid4}    getJobId    ${job4}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    RUN
    checkJobStatus    ${jobid4}    RUN
    ${job5}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid5}    getJobId    ${job5}
    ${job6}    querySubmitInfo    su user1 -c "jsub -q prehigh1 sleep 1000"
    ${jobid6}    getJobId    ${job6}
    checkJobStatus    ${jobid1}    RUN
    checkJobStatus    ${jobid2}    RUN
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    runCommand    su user1 -c "jctrl stop ${jobid1} ${jobid2}"
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    ${job7}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid7}    getJobId    ${job7}
    ${job8}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid8}    getJobId    ${job8}
    ${job9}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid9}    getJobId    ${job9}
    ${job10}    querySubmitInfo    su user1 -c "jsub sleep 1000"
    ${jobid10}    getJobId    ${job10}
    runCommand    su user1 -c "jctrl stop ${jobid7} ${jobid8}"
    checkJobStatus    ${jobid0}    DONE
    checkJobStatus    ${jobid00}    DONE
    checkJobStatus    ${jobid01}    EXIT
    checkJobStatus    ${jobid02}    EXIT
    checkJobStatus    ${jobid1}    USUSP
    checkJobStatus    ${jobid2}    USUSP
    checkJobStatus    ${jobid3}    SSUSP
    checkJobStatus    ${jobid4}    SSUSP
    checkJobStatus    ${jobid5}    RUN
    checkJobStatus    ${jobid6}    RUN
    checkJobStatus    ${jobid7}    PSUSP
    checkJobStatus    ${jobid8}    PSUSP
    checkJobStatus    ${jobid9}    PEND
    checkJobStatus    ${jobid10}    PEND
    ${info1}    runCommand    su jhadmin -c "jctrl requeue -J job3 ${jobid0} ${jobid00} ${jobid01} ${jobid02} ${jobid1} ${jobid2} ${jobid3} ${jobid4} ${jobid5} ${jobid6} ${jobid7} ${jobid8} ${jobid9} ${jobid10}"
    log    ${info1}
    Should Contain    ${info1}    Job <${jobid0}> is being requeued
    Should Contain    ${info1}    Job <${jobid00}> is being requeued
    Should Contain    ${info1}    Job <${jobid01}> is being requeued
    Should Contain    ${info1}    Job <${jobid02}> is being requeued
    Should Contain    ${info1}    Job <${jobid7}> is being requeued
    Should Contain    ${info1}    Job <${jobid8}> is being requeued
    Should Contain    ${info1}    Job <${jobid9}> is being requeued
    Should Contain    ${info1}    Job <${jobid10}> is being requeued
    Should Contain    ${info1}    Job <${jobid1}> is being requeued
    Should Contain    ${info1}    Job <${jobid2}> is being requeued
    Should Contain    ${info1}    Job <${jobid3}> is being requeued
    Should Contain    ${info1}    Job <${jobid4}> is being requeued
    Should Contain    ${info1}    Job <${jobid5}> is being requeued
    Should Contain    ${info1}    Job <${jobid6}> is being requeued
    checkHistContain    su user1 -c "jhist -l ${jobid0}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid00}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid01}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid02}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid1}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid2}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid3}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid4}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid5}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid6}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid7}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid8}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid9}"    1
    checkHistContain    su user1 -c "jhist -l ${jobid10}"    1
    [Teardown]    modHostInfo    rhelb=1 ()

case55.(178) 当集群中没有提交过任何作业时，执行jctrl requeue -u、-J、-d、-e、-r、-a 0
    [Tags]    p2
    [Setup]    readyTest
    addOrModifyParam    CLEAN_PERIOD    5
    jadminJhdsSched
    checkClusterStatus
    sleep    10
    addOrModifyParam    CLEAN_PERIOD    172800
    jadminJhdsSched
    checkClusterStatus
    ${info1}    runCommand    su jhadmin -c "jctrl requeue -u jhadmin 0"
    log    ${info1}
    ${info2}    runCommand    su jhadmin -c "jctrl requeue -J jobxx 0"
    log    ${info2}
    ${info3}    runCommand    su jhadmin -c "jctrl requeue -d 0"
    log    ${info3}
    ${info4}    runCommand    su jhadmin -c "jctrl requeue -e 0"
    log    ${info4}
    ${info5}    runCommand    su jhadmin -c "jctrl requeue -r 0"
    log    ${info5}
    ${info6}    runCommand    su jhadmin -c "jctrl requeue -a 0"
    log    ${info6}
    ${info7}    runCommand    su jhadmin -c "jctrl requeue -H 0"
    log    ${info7}
    Should Be Equal    ${info1}    No unfinished job found
    Should Be Equal    ${info2}    No unfinished job found
    Should Be Equal    ${info3}    No DONE/EXIT job found
    Should Be Equal    ${info4}    No DONE/EXIT job found
    Should Be Equal    ${info5}    No running job found
    Should Be Equal    ${info6}    No job found
    Should Be Equal    ${info7}    No unfinished job found
    [Teardown]    killJob

case56.(179)指定不存在的jobid和错误的jobid。
    [Tags]    p2
    [Setup]    readyTest
    ${info1}    runCommand    su jhadmin -c "jctrl requeue 10000000000"
    log    ${info1}
    ${info2}    runCommand    su jhadmin -c "jctrl requeue -1"
    log    ${info2}
    ${info3}    runCommand    su jhadmin -c "jctrl requeue -1.5"
    log    ${info3}
    ${info4}    runCommand    su jhadmin -c "jctrl requeue 1.5"
    log    ${info4}
    ${info5}    runCommand    su jhadmin -c "jctrl requeue s"
    log    ${info5}
    ${info6}    runCommand    su jhadmin -c "jctrl requeue 0.2"
    log    ${info6}
    ${info7}    runCommand    su jhadmin -c "jctrl requeue 100000[44444]"
    log    ${info7}
    Should Be Equal    ${info1}    Job <10000000000> : No matching job found
    Should Be Equal    ${info2}    -1: Illegal job Id
    Should Be Equal    ${info3}    -1.5: Illegal job Id
    Should Be Equal    ${info4}    1.5: Illegal job Id
    Should Be Equal    ${info5}    s: Illegal job Id
    Should Be Equal    ${info6}    0.2: Illegal job Id
    Should Be Equal    ${info7}    Job <100000[44444]> : No matching job found
    [Teardown]    killJob
